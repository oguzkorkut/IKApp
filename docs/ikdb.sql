-- MySQL Script generated by MySQL Workbench
-- 12/11/16 17:11:54
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema hrapp
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `hrapp` ;

-- -----------------------------------------------------
-- Schema hrapp
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `hrapp` DEFAULT CHARACTER SET utf8 ;
USE `hrapp` ;

-- -----------------------------------------------------
-- Table `hrapp`.`USER`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `hrapp`.`USER` ;

CREATE TABLE IF NOT EXISTS `hrapp`.`USER` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NAME` VARCHAR(50) NOT NULL,
  `LASTNAME` VARCHAR(50) NOT NULL,
  `USER_NAME` VARCHAR(50) NOT NULL,
  `EMAIL` VARCHAR(50) NOT NULL,
  `PASSWORD` VARCHAR(50) NOT NULL,
  `CREATED_BY` VARCHAR(50) NULL,
  `CREATED_AT` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATED_BY` VARCHAR(50) NULL,
  `UPDATED_AT` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `ACTIVE` BIT NOT NULL DEFAULT 1,
  PRIMARY KEY (`ID`),
  UNIQUE INDEX `ID_UNIQUE` (`ID` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `hrapp`.`ROLE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `hrapp`.`ROLE` ;

CREATE TABLE IF NOT EXISTS `hrapp`.`ROLE` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `ROLE_NAME` VARCHAR(30) NOT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE INDEX `ID_UNIQUE` (`ID` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `hrapp`.`ROLE_GROUP`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `hrapp`.`ROLE_GROUP` ;

CREATE TABLE IF NOT EXISTS `hrapp`.`ROLE_GROUP` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `ACTIVE` BIT NULL DEFAULT 1,
  `ROLE_ID` INT NOT NULL,
  `USER_ID` INT NOT NULL,
  PRIMARY KEY (`ID`, `ROLE_ID`, `USER_ID`),
  UNIQUE INDEX `ID_UNIQUE` (`ID` ASC),
  INDEX `fk_ROLE_GROUP_ROLE_idx` (`ROLE_ID` ASC),
  INDEX `fk_ROLE_GROUP_USER1_idx` (`USER_ID` ASC),
  CONSTRAINT `fk_ROLE_GROUP_ROLE`
    FOREIGN KEY (`ROLE_ID`)
    REFERENCES `hrapp`.`ROLE` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ROLE_GROUP_USER1`
    FOREIGN KEY (`USER_ID`)
    REFERENCES `hrapp`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `hrapp`.`PROFILE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `hrapp`.`PROFILE` ;

CREATE TABLE IF NOT EXISTS `hrapp`.`PROFILE` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `TC` VARCHAR(11) NULL,
  `BIRTH_DATE` TIMESTAMP NOT NULL,
  `BIRTH_PLACE` VARCHAR(50) NOT NULL,
  `PASSPORT_NUMBER` VARCHAR(50) NULL,
  `DRIVING_LICENSE` VARCHAR(2) NULL,
  `GENDER` VARCHAR(1) NOT NULL,
  `USER_ID` INT NOT NULL,
  `ADDRESS` VARCHAR(250) NULL,
  `EXPLANATION` VARCHAR(250) NULL,
  PRIMARY KEY (`ID`, `USER_ID`),
  UNIQUE INDEX `ID_UNIQUE` (`ID` ASC),
  INDEX `fk_PROFILE_USER1_idx` (`USER_ID` ASC),
  CONSTRAINT `fk_PROFILE_USER1`
    FOREIGN KEY (`USER_ID`)
    REFERENCES `hrapp`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `hrapp`.`EDUCATION`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `hrapp`.`EDUCATION` ;

CREATE TABLE IF NOT EXISTS `hrapp`.`EDUCATION` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `EDUCATION_LEVEL` VARCHAR(20) NULL,
  `PHONE_NUMBER` VARCHAR(20) NULL,
  `BEGIN_DATE` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `END_DATE` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `GRADE` VARCHAR(10) NULL,
  `GRADE_SYSTEM` VARCHAR(10) NULL,
  `DEPARTMENT` VARCHAR(50) NULL,
  `SCHOOL_NAME` VARCHAR(50) NULL,
  `USER_ID` INT NOT NULL,
  PRIMARY KEY (`ID`, `USER_ID`),
  UNIQUE INDEX `ID_UNIQUE` (`ID` ASC),
  INDEX `fk_EDUCATION_USER1_idx` (`USER_ID` ASC),
  CONSTRAINT `fk_EDUCATION_USER1`
    FOREIGN KEY (`USER_ID`)
    REFERENCES `hrapp`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `hrapp`.`LANGUAGE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `hrapp`.`LANGUAGE` ;

CREATE TABLE IF NOT EXISTS `hrapp`.`LANGUAGE` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `LANGUAGE` VARCHAR(50) NOT NULL,
  `READING` VARCHAR(10) NOT NULL,
  `WRITING` VARCHAR(10) NOT NULL,
  `SPEAKING` VARCHAR(45) NOT NULL,
  `ACTIVE` BIT NOT NULL DEFAULT 1,
  `USER_ID` INT NOT NULL,
  PRIMARY KEY (`ID`, `USER_ID`),
  UNIQUE INDEX `ID_UNIQUE` (`ID` ASC),
  INDEX `fk_LANGUAGE_USER1_idx` (`USER_ID` ASC),
  CONSTRAINT `fk_LANGUAGE_USER1`
    FOREIGN KEY (`USER_ID`)
    REFERENCES `hrapp`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `hrapp`.`EXPERIENCE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `hrapp`.`EXPERIENCE` ;

CREATE TABLE IF NOT EXISTS `hrapp`.`EXPERIENCE` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `COMPANY` VARCHAR(50) NOT NULL,
  `BEGIN_DATE` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `END_DATE` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `POSITION` VARCHAR(50) NULL,
  `USER_ID` INT NOT NULL,
  `ACTIVE` BIT NOT NULL DEFAULT 1,
  PRIMARY KEY (`ID`, `USER_ID`),
  UNIQUE INDEX `ID_UNIQUE` (`ID` ASC),
  INDEX `fk_EXPERIENCE_USER1_idx` (`USER_ID` ASC),
  CONSTRAINT `fk_EXPERIENCE_USER1`
    FOREIGN KEY (`USER_ID`)
    REFERENCES `hrapp`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `hrapp`.`REFERENCES`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `hrapp`.`REFERENCES` ;

CREATE TABLE IF NOT EXISTS `hrapp`.`REFERENCES` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NAME` VARCHAR(50) NOT NULL,
  `LASTNAME` VARCHAR(50) NOT NULL,
  `MOBILE_PHONE` VARCHAR(20) NOT NULL,
  `EMAIL` VARCHAR(50) NULL,
  `POSITION` VARCHAR(50) NOT NULL,
  `USER_ID` INT NOT NULL,
  `ACTIVE` BIT NOT NULL DEFAULT 1,
  PRIMARY KEY (`ID`, `USER_ID`),
  UNIQUE INDEX `ID_UNIQUE` (`ID` ASC),
  INDEX `fk_REFERENCES_USER1_idx` (`USER_ID` ASC),
  CONSTRAINT `fk_REFERENCES_USER1`
    FOREIGN KEY (`USER_ID`)
    REFERENCES `hrapp`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `hrapp`.`POSITION`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `hrapp`.`POSITION` ;

CREATE TABLE IF NOT EXISTS `hrapp`.`POSITION` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NAME` VARCHAR(50) NOT NULL,
  `BEGIN_DATE` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `END_DATE` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `ACTIVE` BIT NOT NULL DEFAULT 1,
  PRIMARY KEY (`ID`),
  UNIQUE INDEX `ID_UNIQUE` (`ID` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `hrapp`.`APPLICATION`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `hrapp`.`APPLICATION` ;

CREATE TABLE IF NOT EXISTS `hrapp`.`APPLICATION` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `APPLICATION_DATE` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `RESULT` VARCHAR(10) NULL,
  `ACTIVE` BIT NOT NULL DEFAULT 1,
  `USER_ID` INT NOT NULL,
  `POSITION_ID` INT NOT NULL,
  PRIMARY KEY (`ID`, `USER_ID`, `POSITION_ID`),
  UNIQUE INDEX `ID_UNIQUE` (`ID` ASC),
  INDEX `fk_APPLICATION_USER1_idx` (`USER_ID` ASC),
  INDEX `fk_APPLICATION_POSITION1_idx` (`POSITION_ID` ASC),
  CONSTRAINT `fk_APPLICATION_USER1`
    FOREIGN KEY (`USER_ID`)
    REFERENCES `hrapp`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_APPLICATION_POSITION1`
    FOREIGN KEY (`POSITION_ID`)
    REFERENCES `hrapp`.`POSITION` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
